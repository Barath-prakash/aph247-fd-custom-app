(this.webpackChunkreact_webpack_dev=this.webpackChunkreact_webpack_dev||[]).push([[179],{6617:(e,n,t)=>{"use strict";var r,i=t(7294),a=t(3935);t(8548);var l,o,d=(0,t(1642).Ps)(r||(l=["\n  query getMedicineOrderOMSDetailsWithAddress(\n    $patientId: String\n    $orderAutoId: Int\n    $billNumber: String\n  ) {\n    getMedicineOrderOMSDetailsWithAddress(\n      patientId: $patientId\n      orderAutoId: $orderAutoId\n      billNumber: $billNumber\n    ) {\n      medicineOrderDetails {\n        id\n        totalCashBack\n        createdDate\n        orderAutoId\n        billNumber\n        coupon\n        devliveryCharges\n        prismPrescriptionFileId\n        couponDiscount\n        productDiscount\n        redeemedAmount\n        estimatedAmount\n        prescriptionImageUrl\n        orderTat\n        orderType\n        shopAddress\n        packagingCharges\n        deliveryType\n        currentStatus\n        patientAddressId\n        alertStore\n        medicineOrderLineItems {\n          medicineSKU\n          medicineName\n          price\n          mrp\n          quantity\n          isMedicine\n          mou\n          isPrescriptionNeeded\n        }\n        medicineOrderPayments {\n          id\n          paymentType\n          amountPaid\n          paymentRefId\n          paymentStatus\n          paymentDateTime\n          responseCode\n          responseMessage\n          bankTxnId\n          healthCreditsRedeemed\n          healthCreditsRedemptionRequest {\n            Success\n            Message\n            RequestNumber\n            AvailablePoints\n            BalancePoints\n            RedeemedPoints\n            PointsValue\n          }\n          paymentMode\n          refundAmount\n        }\n        medicineOrderRefunds {\n          refundAmount\n          refundStatus\n          refundId\n          orderId\n          createdDate\n        }\n        medicineOrdersStatus {\n          id\n          orderStatus\n          statusDate\n          hideStatus\n          statusMessage\n          customReason\n        }\n        medicineOrderShipments {\n          id\n          siteId\n          siteName\n          apOrderNo\n          updatedDate\n          currentStatus\n          itemDetails\n          medicineOrdersStatus {\n            id\n            orderStatus\n            statusDate\n            hideStatus\n          }\n          medicineOrderInvoice {\n            id\n            siteId\n            remarks\n            requestType\n            vendorName\n            billDetails\n            itemDetails\n          }\n        }\n        patient {\n          mobileNumber\n          id\n          firstName\n          lastName\n          addressList {\n            id\n            addressLine1\n            addressLine2\n            city\n            state\n            zipcode\n          }\n        }\n        medicineOrderAddress {\n          addressLine1\n          addressLine2\n          city\n          state\n          zipcode\n          name\n          mobileNumber\n        }\n      }\n    }\n  }\n"],o||(o=l.slice(0)),r=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(o)}})))),s={id:"",orderAutoId:null,billNumber:"",devliveryCharges:0,orderType:"",deliveryType:"",currentStatus:"",patientAddressId:"",medicineOrderAddress:{addressLine1:"",addressLine2:"",city:"",state:"",zipcode:"",name:"",mobileNumber:""},patient:{id:"",firstName:"",lastName:"",fullName:"",mobileNumber:"",email:"",pincode:""},medicineOrderPayments:{paymentDateTime:"",paymentMode:"",paymentType:""},medicineOrderLineItems:{medicineName:"",medicineSKU:"",mrp:"",price:"",quantity:""}},u=[{labelKey:"",labelValue:"Medicine Order",isHeader:!0},{labelKey:"orderAutoId",labelValue:"Order Id"},{labelKey:"orderType",labelValue:"Order type"},{labelKey:"currentStatus",labelValue:"Order status"},{labelKey:"deliveryType",labelValue:"Delivery type"},{labelKey:"",labelValue:"Payment",isHeader:!0},{labelKey:"medicineOrderPayments_paymentType",labelValue:"Type"},{labelKey:"medicineOrderPayments_paymentDateTime",labelValue:"Date"},{labelKey:"medicineOrderPayments_paymentMode",labelValue:"Mode"},{labelKey:"",labelValue:"Medicine",isHeader:!0},{labelKey:"medicineOrderLineItems_medicineName",labelValue:"Medicine name"},{labelKey:"medicineOrderLineItems_medicineSKU",labelValue:"Medicine SKU"},{labelKey:"medicineOrderLineItems_mrp",labelValue:"MRP"},{labelKey:"medicineOrderLineItems_price",labelValue:"Price"},{labelKey:"medicineOrderLineItems_quantity",labelValue:"Quantity"},{labelKey:"",labelValue:"Patient",isHeader:!0},{labelKey:"patient_fullName",labelValue:"Full name"},{labelKey:"patient_email",labelValue:"Email"},{labelKey:"patient_mobileNumber",labelValue:"Mobile"},{labelKey:"patient_pincode",labelValue:"Pincode"},{labelKey:"",labelValue:"Address",isHeader:!0},{labelKey:"medicineOrderAddress_name",labelValue:"Name"},{labelKey:"medicineOrderAddress_mobileNumber",labelValue:"Mobile"},{labelKey:"medicineOrderAddress_addressLine1",labelValue:"Address line 1"},{labelKey:"medicineOrderAddress_addressLine2",labelValue:"Address line 2"},{labelKey:"medicineOrderAddress_city",labelValue:"City"},{labelKey:"medicineOrderAddress_state",labelValue:"State"},{labelKey:"medicineOrderAddress_zipcode",labelValue:"Zipcode"}];const c=function(e){var n,t,r=e.index,a=e.order,l=e.item,o=l.labelKey,d=l.labelValue,s=l.isHeader,u=null!=o&&o.includes("_")?(n=null==o?void 0:o.split("_"),t=null,null==n||n.forEach((function(e,n){var r;t=n?null===(r=t)||void 0===r?void 0:r[e]:null==a?void 0:a[e]})),t):null==a?void 0:a[o];return i.createElement(i.Fragment,null,!!r&&s&&i.createElement("div",{style:{paddingBlock:5}}),d&&i.createElement("div",{style:{marginLeft:s?0:5}},i.createElement("span",{style:{color:s?"#2c5cc5":"darkslategrey",fontSize:12,fontWeight:o?600:"bold"}},d),i.createElement("br",null),o&&i.createElement("span",{style:{marginLeft:5,fontSize:11,color:"grey",paddingBlock:3}},u||"--")))},m=function(e){var n=e.loading,t=e.error,r=e.order;return n||t||null==r||!r.id?null:u.map((function(e,n){return i.createElement(c,{key:n,index:n,order:r,item:e})}))};var p=t(6805);const y=function(e){var n=e.loading,t=e.orderId,r=e.reloadPage;return n&&!t?i.createElement("div",{style:{textAlign:"center"}},i.createElement(p.Z,{color:"inherit",size:30}),i.createElement("div",{style:{marginTop:10}},"Page loading for long time ?"),i.createElement("a",{"data-testid":"a-tag",hre:"#",onClick:function(){return r(!0)},style:{cursor:"pointer"}},"Reload")):null},b=function(e){var n=e.loading,t=e.error,r=e.orderId;return n||t||r?null:i.createElement("div",{style:{textAlign:"center",color:"orange"}},i.createElement("p",null,"Order Id is not exist."),"Please check and try again.")};function f(e,n,t,r,i,a,l){try{var o=e[a](l),d=o.value}catch(e){return void t(e)}o.done?n(d):Promise.resolve(d).then(r,i)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function l(e){f(a,r,i,l,o,"next",e)}function o(e){f(a,r,i,l,o,"throw",e)}l(void 0)}))}}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){A(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}const S=function(e){var n,t,r=e.appClient,a=e.apolloClient,l=e.loading,o=e.error,u=e.setLoading,c=e.setError,p=(n=(0,i.useState)(s),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);l=!0);}catch(e){o=!0,i=e}finally{try{l||null==t.return||t.return()}finally{if(o)throw i}}return a}}(n,t)||function(e,n){if(e){if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],g=p[1];function A(e){var n=e.getMedicineOrderOMSDetailsWithAddress.medicineOrderDetails,t=n.medicineOrderPayments,r=n.medicineOrderLineItems;g((function(e){var i,a,l;return O(O({},e),{},{id:null==n?void 0:n.id,orderAutoId:null==n?void 0:n.orderAutoId,billNumber:null==n?void 0:n.billNumber,devliveryCharges:null==n?void 0:n.devliveryCharges,orderType:null==n?void 0:n.orderType,deliveryType:null==n?void 0:n.deliveryType,currentStatus:null==n?void 0:n.currentStatus,patientAddressId:null==n?void 0:n.patientAddressId,medicineOrderAddress:null==n?void 0:n.medicineOrderAddress,medicineOrderPayments:{paymentDateTime:null==t||null===(i=t[0])||void 0===i?void 0:i.paymentDateTime,paymentMode:null==t||null===(a=t[0])||void 0===a?void 0:a.paymentMode,paymentType:null==t||null===(l=t[0])||void 0===l?void 0:l.paymentType},medicineOrderLineItems:{medicineName:null==r?void 0:r[0].medicineName,medicineSKU:null==r?void 0:r[0].medicineSKU,mrp:null==r?void 0:r[0].mrp,price:null==r?void 0:r[0].price,quantity:null==r?void 0:r[0].quantity}})}))}function S(e){return C.apply(this,arguments)}function C(){return(C=v(regeneratorRuntime.mark((function e(n){var t,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.query({query:d,variables:{orderAutoId:n}});case 3:t=e.sent,r=t.data,i=t.loading,u(i),A(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c("Fetch medical order error: "+e.t0.message),u(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function I(){return I=v(regeneratorRuntime.mark((function e(n){var t,r,i,a,l,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==n?void 0:n.data.get("ticket");case 3:r=e.sent,i=r.ticket,(l=null==(a=void 0===i?null:i)?void 0:a.custom_fields)&&g((function(e){return O(O({},e),{},{patient:O(O({},e.patient),{},{fullName:null==l?void 0:l.cf_customer_full_name,mobileNumber:null==l?void 0:l.cf_customer_phone_number,email:null==l?void 0:l.cf_customer_email_address,pincode:null==l?void 0:l.cf_customer_pin_code})})})),o=null==a||null===(t=a.custom_fields)||void 0===t?void 0:t.cf_orderidappointmentid,console.log({orderAutoId:o}),o?S(o):u(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),c("Load ticket error: "+e.t0),u(!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),I.apply(this,arguments)}return(0,i.useEffect)((function(){r&&function(e){I.apply(this,arguments)}(r)}),[r]),i.createElement(i.Fragment,null,i.createElement(y,{loading:l,orderId:null==f?void 0:f.id,reloadPage:function(){var e,n;return null===(e=window)||void 0===e||null===(n=e.location)||void 0===n?void 0:n.reload()}}),i.createElement(m,{loading:l,error:o,order:f}),i.createElement(b,{loading:l,error:o,orderId:null==f?void 0:f.id}))};function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);l=!0);}catch(e){o=!0,i=e}finally{try{l||null==t.return||t.return()}finally{if(o)throw i}}return a}}(e,n)||function(e,n){if(e){if("string"==typeof e)return I(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}const w=function(e){var n=e.apolloClient,t=C((0,i.useState)(!1),2),r=t[0],a=t[1],l=C((0,i.useState)(null),2),o=l[0],d=l[1],s=C((0,i.useState)(null),2),u=s[0],c=s[1];return(0,i.useEffect)((function(){var e=document.createElement("script");e.src="https://static.freshdev.io/fdk/2.0/assets/fresh_client.js",e.addEventListener("load",(function(){return a(!0)})),e.defer=!0,document.head.appendChild(e)}),[]),(0,i.useEffect)((function(){r&&app.initialized().then((function(e){window.client=e,e.events.on("app.activated",c(e))})).catch((function(e){d("App initialize error: "+e)}))}),[r]),o?i.createElement("div",{style:{textAlign:"center",padding:10}},o):i.createElement(S,{appClient:u,apolloClient:n,loading:r,error:o,setLoading:a,setError:d})};var E=t(1322),P=t(3104),_=t(4846),N=t(8087),k=t(7208);function K(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){D(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var M,T,V,L,x,R=(M=(0,t(7051).q)((function(e){var n=e.graphQLErrors,t=e.operation,r=e.forward;if(n){var i=n.some((function(e){return e.extensions&&"UNAUTHENTICATED"===e.extensions.code}));i&&console.log("unauthenticatedError",i)}return r(t)})),T=(0,k.v)((function(e,n){return{headers:j(j({},n.headers),{},{Authorization:"Bearer 3d1833da7020e0602165529446587434"})}})),V=(0,P.L)({uri:"https://qa4api.apollo247.com"}),L=M.concat(T).concat(V),x=new _.h,new N.f({link:L,cache:x}));a.render(i.createElement(i.StrictMode,null,i.createElement(E.e,{client:R},i.createElement(w,{apolloClient:R}))),document.getElementById("root"))},1424:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>a});var r=t(3645),i=t.n(r)()(!0);i.push([e.id,'body {\n\tmargin: 0;\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n\t\t"Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n\t\tsans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tfont-size: smaller;\n}\n\ncode {\n\tfont-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n\t\tmonospace;\n}\n\na {\n\tcolor: blue;\n}\n',"",{version:3,sources:["webpack://src/index.css"],names:[],mappings:"AAAA;CACC,SAAS;CACT;;YAEW;CACX,mCAAmC;CACnC,kCAAkC;CAClC,kBAAkB;AACnB;;AAEA;CACC;WACU;AACX;;AAEA;CACC,WAAW;AACZ",sourcesContent:['body {\n\tmargin: 0;\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n\t\t"Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n\t\tsans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tfont-size: smaller;\n}\n\ncode {\n\tfont-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n\t\tmonospace;\n}\n\na {\n\tcolor: blue;\n}\n'],sourceRoot:""}]);const a=i},8548:(e,n,t)=>{var r=t(3379),i=t(1424);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}}},e=>{var n=n=>e(e.s=n);e.O(0,[216],(()=>(n(6981),n(6617)))),e.O()}]);
//# sourceMappingURL=main.61efebe0.js.map